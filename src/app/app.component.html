
<form [formGroup]="labelForm"  (ngSubmit)="onSubmit(labelForm)" novalidate>

  <div class="p-5">
    <h1 class="d-flex justify-content-center">Ericks Magical Label Generator</h1>

    <div class="row">
      <div class="form-group col-6">
        <label for="from">From</label>
        <input name="from" formControlName="from" type="text" class="form-control" readonly>
      </div>
      <div class="form-group col-6">
          <label for="to">To</label>
          <input name="to" formControlName="to" type="text" class="form-control">
      </div>
    </div>

    <div class="row">
      <div class="form-group col-6">
          <label for="purchaseOrder">PO#</label>
          <input name="purchaseOrder" formControlName="purchaseOrder" type="text" class="form-control">
      </div>
      <div class="form-group col-6">
        <label for="dept">Dept</label>
        <input name="dept" formControlName="dept" type="text" class="form-control">
      </div>
    </div>

    <div class="form-inline justify-content-center">
      <div class="form-group">
        <label for="boxCount">Box Count</label>
        <input name="boxCount" formControlName="boxCount" type="text" class="form-control ml-2">
      </div>
      <button type="button" class="btn btn-primary ml-2" (click)="onBoxCountConfirm()">Confirm</button>
    </div>

    <div formArrayName="details">

      <div *ngIf="labelForm.get('details')['controls'].length > 0" class="d-flex justify-content-end">
        {{ activeDetailIndex + 1 }}/{{labelForm.get('details')['controls'].length}}
      </div>

      <div *ngFor="let detail of labelForm.get('details')['controls']; let i = index" [formGroupName]="i">
        <div *ngIf="activeDetailIndex === i">
          <div class="row">
              <div class="form-group col-6">
                <label for="thing1">Thing1</label>
                <input name="thing1" formControlName="thing1" type="text" class="form-control">
              </div>
            <div class="form-group col-6">
              <label for="thing2">Thing2</label>
              <input name="thing2" formControlName="thing2" type="text" class="form-control">
            </div>
          </div>
          <div class="row">
              <div class="form-group col-6">
                <label for="thing3">Thing3</label>
                <input name="thing3" formControlName="thing3" type="text" class="form-control">
              </div>
            <div class="form-group col-6">
              <label for="thing4">Thing4</label>
              <input name="thing4" formControlName="thing4" type="text" class="form-control">
            </div>
          </div>
        </div>

      </div>

      <div *ngIf="labelForm.get('details')['controls'].length > 0" class="d-flex justify-content-center">
        <button type="button" class="btn btn-primary ml-2" (click)="onNextBlank()">Next (blank)</button>
        <button type="button" class="btn btn-primary ml-2" (click)="onNextSameInfo()">Next (same info)</button>
      </div>

    </div>

  </div>

</form>

<router-outlet></router-outlet>
